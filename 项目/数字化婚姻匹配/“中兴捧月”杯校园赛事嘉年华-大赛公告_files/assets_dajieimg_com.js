(function(a){a.formValidate={type:{email:/^([A-Za-z\d]+)([\._A-Za-z\d-]+)?@([A-Za-z\d])(([_A-Za-z\d-])+)?(\.[_A-Za-z\d-]+)*\.([A-Za-z]{2,4})$/i,domain:/^(https?:\/\/)([\w-]+\.)+[a-z]{2,4}\b/i,mobile:/^1(3|5|8|4)\d{9}$/,chinamobile:/^1(3[4-9]|4[7]|5[0-2|7-9]|8[7-9])[0-9]{8}$/,numeric:/^[-\+]?\d+(\.\d+)?$/,integer:/^[-\+]?\d+$/,chinese:/^([\u4e00-\u9fa5]+)$/,tel:/^\d{3,4}-?\d{7,8}$/,idcard:/^\d{14}(\d|\d{4}|(\d{3}[xy]))$/i,date:/^(19|20)\d\d-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,name:/^([\u4e00-\u9fa5]){2,5}$/,corpName:/^.{2,40}$/,jobName:/^.{2,15}$/,password:/^[^\u4e00-\u9fa5]{4,20}$/},ajaxtype:{email:"http://www.dajie.com/common/ajax/jsonp/emailcheck",greenDam:"http://www.dajie.com/common/ajax/jsonp/wordcheck",regEmail:"http://www.dajie.com/common/ajax/jsonp/regemailcheck"},textReplace:function(b){if(!b){return""}return b.replace(/^[ 　]+/,"").replace(/[ 　]+$/,"").replace(/^\s+/,"").replace(/\s+$/,"").replace(/\n\n\n+/g,"\n\n\n")},textLength:function(d,b){if(b){var c=d.replace(/[^\x00-\xff]/g,"aa");return Math.ceil(c.length/2)}return d.length},getNumber:function(g,d,e){var f=this.textReplace(g),c=this.textLength(f,e),b=d-c;return b},check:function(){if(arguments.length==1){var b=arguments[0];if(typeof b=="string"){var f=b}else{var i=b}}else{var f=arguments[0];var i=arguments[1]}var h="formvalidatecheck",e=f?a("."+f):a(".formValidateSubmit"),j=e.data(h),c=true,g=true;if(!j){if(a.formValidate.devMode){a.formValidate.devFun.devNoBtnClass(f,"formValidateSubmit")}return true}if(i){a.each(j,function(k,d){if(d.input==i){g=d.isOK;return false}});return g}else{a.each(j,function(k,d){if(!d.isOK){c=false;return false}});return c}},submit:function(){var q,i,b;if(arguments.length==1){q=arguments[0];if(typeof q=="string"){i=q}else{b=q}}else{i=arguments[0];b=arguments[1]}var f="formvalidateajax",k="formvalidatedam",p="formvalidatesbumit",n=i?a("."+i):a(".formValidateSubmit"),m=n.data(f),e=n.data(k),h=0,c=0,o=0,l=a.formValidate.ajaxcheckfn,j=a.formValidate.damcheckfn;if(!a.formValidate.check(i||"formValidateSubmit")){b(false);return false}if(n.data(p)){return false}n.data(p,true);if(!m&&!e){b(true);n.data(p,false);return false}if(m){a.each(m,function(r,d){h+=1;l(m,a(d.input),function(s){o+=1;if(s){c+=1}if(c>=h){b(true);n.data(p,false);return false}if(o>=h){b(false);n.data(p,false)}})})}if(e){h+=1;j(e,function(d){o+=1;if(d){c+=1}if(c>=h){b(true);n.data(p,false);return false}if(o>=h){b(false);n.data(p,false)}})}function g(s){var d;a.each(m,function(t,r){if(r.input==s[0]){d=r.isOK;return false}});return d}},setAjaxData:function(f,e,c){var b=arguments.length>2?c:"";a.each(f,function(g,d){if(d.input==e[0]){d.isOK=b;return false}})},ajaxcheckfn:function(e,k,c){var g=k.attr("ajaxreg").split(":"),f=g[0],j=a.formValidate.ajaxtype,b=j[f]?j[f]:f,h=g[1].split("."),i=window,d=a.formValidate.setAjaxData;if(k.val()==k.attr("blankvalue")){if(c){c.call(k[0],true)}d(e,k,true);return true}a.each(h,function(m,l){i=i[l]});d(e,k);a.ajax({url:b,data:{value:a.formValidate.textReplace(k.val())},dataType:"jsonp",jsonp:"djcallback",success:function(m){var l=m.result==0;d(e,k,l);i.call(k[0],l,m);if(c){c.call(k[0],l,m)}}})},damcheckfn:function(c,b){var f=c.dom,g=c.fun,d=a.formValidate.textReplace,e="";a.each(f,function(j,h){e+=d(a(this).val())+"_"});a.ajax({url:a.formValidate.ajaxtype.greenDam,data:{value:e},dataType:"jsonp",jsonp:"djcallback",success:function(i){var h=i.result==0;g(h,i);if(b){b(h,i)}}})},devMode:false,devError:["formValidate:\n你的提交按钮上没有加-{class}-类","formValidate:\n本函数不能验证这个dom\n{html}","formValidate:\n亲，您的-{fun}-函数还没有定义哦","formValidate:\n你在验证的这个DOM的验证结果没存在-{class}-里面"],devFun:{devHasBtnClass:function(c){var b=a("."+c).length;if(!b){alert(a.formValidate.devError[0].replace("{class}",c))}},devCanCheck:function(b){var c=b[0].nodeName;if(!(c=="INPUT"||c=="SELECT"||c=="TEXTAREA")){b.wrap("<div>");alert(a.formValidate.devError[1].replace("{html}",b.parent().html()));b.unwrap()}},devHasFun:function(b,c){if(!b){alert(a.formValidate.devError[2].replace("{fun}",c));return false}},devNoBtnClass:function(c,b){alert(a.formValidate.devError[3].replace("{class}",c?c:"默认样式"+b))}}};a.fn.extend({formValidate:function(d){var c={button:"formValidateSubmit",blankSubmit:"blanksubmit",rel:"rel",reg:"reg",regTrue:"regtrue",focus:"focuscolor",blankValue:"blankvalue",blankClass:"blankclass",ajaxreg:"ajaxreg",ajaxcheck:"ajaxcheck",greenDam:null};var g="formvalidatecheck",e="formvalidateajax",b="formvalidatedam",h=a.formValidate.type,i=a.formValidate.ajaxcheckfn,f=a.formValidate.devMode;if(d){a.each(d,function(j,k){c[j]=k})}if(f){a.formValidate.devFun.devHasBtnClass(c.button)}a(this).each(function(){var l=a(this),u=l[0].nodeName,t=u=="INPUT",s=u=="TEXTAREA",p=u=="INPUT"&&(l.attr("type")=="radio"||l.attr("type")=="checkbox"),o=u=="SELECT",j=a("."+c.button),w=l.attr(c.focus),m=w==undefined||w=="true";if(f){a.formValidate.devFun.devCanCheck(l)}n();r();q();l.bind("blur.formValidateBlur",function(){if(!o&&!p&&m){l.removeClass("focus")}var z=l.attr(c.rel)?a("#"+l.attr(c.rel)):l,E=a.formValidate.textReplace(z.val()),L=z.attr(c.reg),J=l.attr(c.blankSubmit),O=l.attr(c.blankValue),K=J==undefined||J=="false",Q,y,P,A,I,N=j.data(e);if(!p){if(K&&(E==""||l.val()==O)){r();v(false);return}if(!K&&(E==""||l.val()==O)){r();k(true);return}}if(!o||!p){z.val(E)}if(!p){Q=z.val().replace(/\n/g,",");if(!L){I=false}else{if(L.slice(0,4)=="fun:"){var x=L.slice(4).split(","),M=x[0].split("."),G=window,B=x.slice(1);a.each(M,function(R,F){G=G[F]});if(f){a.formValidate.devFun.devHasFun(G,x[0])}I=!G.apply(l[0],B)}else{y=l.attr(c.regTrue)!=="false";P=L in h?h[L]:new RegExp(L);A=P.test(Q);I=y?!A:A}}}else{var C=z.closest("form");C=C.length?C:a("body");var H=z.attr("name"),D=a('[name="'+H+'"]:checked',C).length;I=!D}if(I){v(false)}else{v(true)}if(z.attr(c.ajaxcheck)=="true"&&!I){i(N,l)}}).focus(function(){if(!o){l.click()}if(!o&&m&&!p){l.addClass("focus")}r(false)});j.click(function(){l.triggerHandler("blur.formValidateBlur")});function v(x){if(arguments.length==0){return}k(x)}function r(){if(o||p){return}var y=l.attr(c.blankValue);var x=l.attr(c.blankClass)||"g9";if(y==undefined||y==""){return}if(!arguments.length){var z=l.val();if(z==""||z==y){l.val(y).addClass(x)}else{l.removeClass(x)}}else{var z=l.val();if(z==""||z==y){l.val("").removeClass(x)}}}function k(x){var y=j.data(g),z=false;if(!y){j.data(g,[{input:l[0],isOK:x}]);return}a.each(y,function(B,A){if(A.input==l[0]){A.isOK=x;z=true;return false}});if(!z){y.push({input:l[0],isOK:x})}j.data(g,y)}function n(){var x=j.data(e);if(l.attr("ajaxreg")){if(!x){j.data(e,[{input:l[0],isOK:""}]);return}x.push({input:l[0],isOK:""});j.data(e,x)}}function q(){if(!c.greenDam){return}var x=j.data(b);if(!x){x={fun:c.greenDam,dom:[]}}if((t&&!p)||s){x.dom.push(l[0]);j.data(b,x)}}});return this}})})(jQuery);$(function(){$(".task_item_block").delegate(".task_item_title","click",function(){var a=$(this).find(".icon_radio");var b=$(this).find(".icon_t_bc");if($(this).parent().find(".detail_block:visible").length!=0){$(".detail_block").fadeOut(300);$(".icon_radio").removeClass("checked");$(".icon_t_bc").removeClass("icon_t_bc_up")}else{$(".detail_block").fadeOut(300);$(".icon_radio").removeClass("checked");$(".icon_t_bc").removeClass("icon_t_bc_up");$(this).parent().find(".detail_block").toggle(300);a.addClass("checked");b.addClass("icon_t_bc_up")}});$(".task_item_block").delegate(".get_task","click",function(){var b=$(this);var c=b.attr("taskId");var a=function(d){d.removeClass("not_get").addClass("done_get");d.find("span").removeClass("icon_get_task").html("任务已领取");d.parent().find(".icon_green_right").fadeIn(500)};$.ajax({type:"get",url:"/zte/fetchTask?tid="+c,success:function(d){if(d.substr(0,1)=="0"){pop_reg("/")}else{if(d.substr(0,1)=="1"){alert("没有该任务")}else{if(d.substr(0,1)=="2"){alert("请报名参赛后再领取任务")}else{if(d.substr(0,1)=="5"){alert("你已领取过该大赛任务")}else{if(d.substr(0,1)=="6"){a(b);$(".not_get").click(function(){alert("你已经领取了一个任务");return false});$(".done_get").bind("click",function(){return false});$.ajax({url:"/zte/message?type=1&taskId="+c,success:function(){}});$.ajax({url:"/zte/message?type=2&taskId="+c,success:function(){}})}}}}}},error:function(){alert("网络错误")}})})});$(function(){var b=null,a='<a href="javascript:void(0);" id="J-wg-gotop" class="G-wg-gotop">回顶部</a>';$("body").append(a);$(window).scroll(function(){window.clearTimeout(b);if(navigator.userAgent.indexOf("MSIE")>0){if($(document).scrollTop()>$(window).height()){$("#J-wg-gotop").hide();function c(){var d=$(window).height()+$(document).scrollTop()-120;$("#J-wg-gotop").css({top:d+"px"}).fadeIn("fast")}b=setTimeout(c,200)}else{$("#J-wg-gotop").hide()}}else{if($(document).scrollTop()>$(window).height()){$("#J-wg-gotop").css({bottom:"50px",visibility:"visible",position:"fixed"}).fadeIn("slow")}else{$("#J-wg-gotop").fadeOut("slow")}}});$("#J-wg-gotop").click(function(){if(navigator.userAgent.indexOf("Safari")>0){$("body").scrollTop(0)}else{$("html").scrollTop(0)}})});